<div data-ng-controller="FindGifCtrl as find" class="row">
	<div class="col-xs-12">
		<h4>Search for Gifs</h4>
		<form class="navbar-form navbar-left" role="search">
			<div class="form-group">
				<input type="search" class="form-control" placeholder="Search gif" data-ng-model="search" ng-model-options="{debounce: 500}">
			</div>
			<div class="checkbox">
				<label>
					<input type="checkbox" data-ng-model="nsfw" data-ng-change="searchGif()"> Include NSFW images
				</label>
			</div>
		</form>
		<div data-ng-show="search && results && !results.length && !searching" class="row">
			<div class="col-xs-12">
				We couldn't find any gifs for your keywords.
			</div>
		</div>
		<div data-ng-show="results && results.length">
			<div data-ng-show="pageCount.length" class="row">
				<div class="col-xs-12">
					<ul class="pagination pagination-sm">
						<li data-ng-repeat="i in pageCount" data-ng-class="{'active' : $index === currentPage}">
							<a href="#" data-ng-click="$event.preventDefault();searchGif($index)">{{$index + 1}}</a>
						</li>
					</ul>
				</div>
			</div>
			<div class="row gif-row" data-ng-repeat="row in results">
				<div class="col-xs-6" data-ng-repeat="result in row" >
					<a href="#/share-link/{{subscriptionId}}?url={{result.link | escape}}&comment={{search | escape}}" class="gif-icon" data-ng-init="showGif = false; loaded = false;" data-ng-mouseenter="showGif = true; image=result.link;" data-ng-mouseleave="showGif = false">
						<img class="img-responsive" data-ng-hide="showGif && loaded" data-ng-src="{{result.thumb}}" />
						<img class="img-responsive" data-ng-show="showGif && loaded" data-ng-src="{{image}}" data-imageonload="loaded = true" />
						<div class="loader" data-ng-show="image && !loaded"></div>
					</a>
				</div>
			</div>
			<div data-ng-show="pageCount.length" class="row">
				<div class="col-xs-12">
					<ul class="pagination pagination-sm">
						<li data-ng-repeat="i in pageCount" data-ng-class="{'active' : $index === currentPage}">
							<a href="#" data-ng-click="$event.preventDefault();searchGif($index)">{{$index + 1}}</a>
						</li>
					</ul>
				</div>
			</div>
		</div>
	</div>
</div>
